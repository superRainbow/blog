(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{512:function(s,a,n){"use strict";n.r(a);var t=n(6),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),n("p",[s._v("在我們開始說明 .git 內的含義前，"),n("br"),s._v("\n先來操作上一篇 Demo 用的 try-git 內容變化來觀察 .git 內有什麼變動，"),n("br"),s._v("\n這樣來說明是最有感的～")]),s._v(" "),n("h2",{attrs:{id:"實作-git-add-檔案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#實作-git-add-檔案"}},[s._v("#")]),s._v(" 實作：git add 檔案")]),s._v(" "),n("h3",{attrs:{id:"前情提要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前情提要"}},[s._v("#")]),s._v(" 前情提要")]),s._v(" "),n("p",[s._v("上一回我們讓專案初始化 git 並發現自動產生 .git 資料夾")]),s._v(" "),n("h3",{attrs:{id:"專案狀態"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#專案狀態"}},[s._v("#")]),s._v(" 專案狀態")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目前專案還有沒做任何的 commit")]),s._v("\nNo commits yet\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"專案變動後-專案狀態-git-的變化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#專案變動後-專案狀態-git-的變化"}},[s._v("#")]),s._v(" 專案變動後：專案狀態 & .git 的變化")]),s._v(" "),n("p",[s._v("專案新增檔案後，git 馬上追蹤到有新檔案但 .git 還是沒有發生改變")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新增檔案")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'add README.md'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" README.md\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 專案狀態")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n\nNo commits yet\nUntracked files:\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')]),s._v(" to include "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" what will be committed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tREADME.md\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 .git")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" tree .git\n.git\n├── HEAD\n├── config\n├── description\n├── hooks\n│   ├── applypatch-msg.sample\n│   ├── commit-msg.sample\n│   ├── fsmonitor-watchman.sample\n│   ├── post-update.sample\n│   ├── pre-applypatch.sample\n│   ├── pre-commit.sample\n│   ├── pre-merge-commit.sample\n│   ├── pre-push.sample\n│   ├── pre-rebase.sample\n│   ├── pre-receive.sample\n│   ├── prepare-commit-msg.sample\n│   └── update.sample\n├── info\n│   └── exclude\n├── objects\n│   ├── info\n│   └── pack\n└── refs\n    ├── heads\n    └── tags\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" directories, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" files\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br")])]),n("h3",{attrs:{id:"加入版控追蹤後的變化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加入版控追蹤後的變化"}},[s._v("#")]),s._v(" 加入版控追蹤後的變化")]),s._v(" "),n("p",[n("code",[s._v(".git/objects")]),s._v(" 目錄下多了一個子目錄和一個檔案：.git/objects/ad/6bc9244802a60f632422717a95f1cb0931fa5a")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 將所有變化都加入版控")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 .git")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" tree .git\n.git\n├── HEAD\n├── config\n├── description\n├── hooks\n│   ├── applypatch-msg.sample\n│   ├── commit-msg.sample\n│   ├── fsmonitor-watchman.sample\n│   ├── post-update.sample\n│   ├── pre-applypatch.sample\n│   ├── pre-commit.sample\n│   ├── pre-merge-commit.sample\n│   ├── pre-push.sample\n│   ├── pre-rebase.sample\n│   ├── pre-receive.sample\n│   ├── prepare-commit-msg.sample\n│   └── update.sample\n├── index\n├── info\n│   └── exclude\n├── objects\n│   ├── ad\n│   │   └── 6bc9244802a60f632422717a95f1cb0931fa5a\n│   ├── info\n│   └── pack\n└── refs\n    ├── heads\n    └── tags\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" directories, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" files\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("h3",{attrs:{id:"我們來開啟剛剛建立的檔案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我們來開啟剛剛建立的檔案"}},[s._v("#")]),s._v(" 我們來開啟剛剛建立的檔案")]),s._v(" "),n("p",[s._v("使用 cat 來開啟檔案，會發現內容為亂碼")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" .git/objects/ad/6bc9244802a60f632422717a95f1cb0931fa5a\n\nxK??OR04aHLIrut?u??M?J%%\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("這一串到底是什麼？🧐")]),s._v(" "),n("h2",{attrs:{id:"等等-git-怎麼儲存檔案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#等等-git-怎麼儲存檔案"}},[s._v("#")]),s._v(" 等等！Git 怎麼儲存檔案？")]),s._v(" "),n("h3",{attrs:{id:"git-hash-object"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#git-hash-object"}},[s._v("#")]),s._v(" git hash-object")]),s._v(" "),n("p",[s._v("Git 儲存內容是透過 git hash-object 取得 SHA1 儲存起來"),n("br")]),s._v(" "),n("p",[s._v("然後在把產生出來的 SHA1 放置在 .git/objects 資料夾底下"),n("br")]),s._v(" "),n("ul",[n("li",[s._v("前面 2 個數字 or 字母切出來當成資料夾")]),s._v(" "),n("li",[s._v("剩餘當成檔名")])]),s._v(" "),n("p",[s._v("我們使用剛剛建立 README.md 內容示範")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'add README.md'")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" hash-object --stdin\nad6bc9244802a60f632422717a95f1cb0931fa5a\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 資料夾：ad")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 檔名：6bc9244802a60f632422717a95f1cb0931fa5a")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 核對一下剛剛使用 tree .git 資料結構內容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看起來完全符合！")]),s._v("\n├── objects\n│   ├── ad\n│   │   └── 6bc9244802a60f632422717a95f1cb0931fa5a\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"git-cat-file"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#git-cat-file"}},[s._v("#")]),s._v(" git cat-file")]),s._v(" "),n("p",[s._v("好，我們知道 git 怎麼將檔案加入版控，\n但剛剛我們使用 cat 來開啟檔案會發現內容為亂碼，"),n("br"),s._v("\n這又該怎麼解決呢？")]),s._v(" "),n("p",[s._v("因為 git 用二進制的方式將內容儲存起來\n所以我們要使用 git 來查看檔案真正的內容")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("\b"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 cat 會顯示亂碼")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" .git/objects/ad/6bc9244802a60f632422717a95f1cb0931fa5a\n\nxK??OR04aHLIrut?u??M?J%%\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 git cat-file 查看檔案")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cat-file ad6bc9244802a60f632422717a95f1cb0931fa5a -p\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" README.md\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("太好惹！\n剛剛的疑惑終於解開惹～\n讓我們休息一下，下一篇再繼續 🌝")])])}),[],!1,null,null,null);a.default=e.exports}}]);