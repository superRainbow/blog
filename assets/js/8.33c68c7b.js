(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{501:function(s,t,a){s.exports=a.p+"assets/img/github_oa_client_id_secret.afbf7117.png"},502:function(s,t,a){s.exports=a.p+"assets/img/github_settings_secrets.e66bf2a1.png"},503:function(s,t,a){s.exports=a.p+"assets/img/github_oa_1.7ebe1535.png"},504:function(s,t,a){s.exports=a.p+"assets/img/github_oa_2.34edfa9f.png"},522:function(s,t,a){"use strict";a.r(t);var e=a(6),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("之前有想過要整合留言功能，"),e("br"),s._v("\n那時候看了一下有整合第三方平台的方式與使用 issue 方式 "),e("br"),s._v("\n不過前陣子很懶想說不知道文章會寫到何時～何必做(自我不看好自己) "),e("br"),s._v("\n但現在覺得好像可以加進來看看惹！感覺今年的我好像是真的想認真寫文章 XD "),e("br"),s._v("\n接下來就來看我的步驟吧～")]),s._v(" "),e("h2",{attrs:{id:"選擇"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#選擇"}},[s._v("#")]),s._v(" 選擇")]),s._v(" "),e("p",[s._v("基於我的部落格是將文章都放在 github 上，"),e("br"),s._v("\n以我自己來說，我自己最好的方式就是都統一放在 github 中 "),e("br"),s._v("\n因此我就不考慮 Disqus 或是 LeanCloud 惹～ "),e("br"),s._v("\n選擇 Vssue 來實現留言")]),s._v(" "),e("h2",{attrs:{id:"vssue-介紹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vssue-介紹"}},[s._v("#")]),s._v(" Vssue 介紹")]),s._v(" "),e("p",[s._v("Vssue 是利用平台提供的 OAuth API 使得用戶可以登錄並發表評論 "),e("br"),s._v("\n以下是大致的流程："),e("br")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://vssue.js.org/assets/img/how-vssue-works-zh.png",alt:"Image"}})]),s._v(" "),e("p",[e("em",[s._v("來源："),e("a",{attrs:{href:"https://vssue.js.org/zh/guide/#vssue-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vssue 官網"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"導入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#導入"}},[s._v("#")]),s._v(" 導入")]),s._v(" "),e("p",[s._v("預設 vuepress-theme-reco 就有留言功能，我們只需要去 config.js 中加入設定即可")]),s._v(" "),e("h3",{attrs:{id:"_1-申請-github-oauth-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-申請-github-oauth-2"}},[s._v("#")]),s._v(" 1. 申請 github OAuth 2")]),s._v(" "),e("p",[s._v("申請 "),e("a",{attrs:{href:"https://github.com/settings/developers",target:"_blank",rel:"noopener noreferrer"}},[s._v("github OAuth"),e("OutboundLink")],1),s._v(" 來取得 clientId 與 clientSecret "),e("br")]),s._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[s._v("Register a new OAuth application"),e("OutboundLink")],1)]),s._v(" "),e("li",[s._v("將 Homepage URL 和 Authorization callback URL 設置為你的網站 URL")]),s._v(" "),e("li",[s._v("完成後，即可獲取 Client ID 和 Secret")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(501),alt:"Image",width:"500"}})]),s._v(" "),e("h3",{attrs:{id:"_2-config-js-設定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-config-js-設定"}},[s._v("#")]),s._v(" 2. config.js 設定")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("vssueConfig"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    platform"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'github'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    owner"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'superRainbow'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    repo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blog'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    clientId"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用環境變數去管理")]),s._v("\n    clientSecret"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用環境變數去管理")]),s._v("\n    locale"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'en'")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 由於 vssue 的語系中文只有簡體，所以我設定為英文顯示")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"_3-將重要資訊存入本地-env-與-github-settings-secrets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-將重要資訊存入本地-env-與-github-settings-secrets"}},[s._v("#")]),s._v(" 3. 將重要資訊存入本地 env 與 github settings secrets")]),s._v(" "),e("p",[s._v("env"),e("br")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxx\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxxx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("github settings secrets "),e("br"),s._v(" "),e("img",{attrs:{src:a(502),alt:"",width:"500"}})]),s._v(" "),e("h3",{attrs:{id:"_4-調整-yaml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-調整-yaml"}},[s._v("#")]),s._v(" 4. 調整 yaml")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install and Build 🔧\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n        npm install\n        npm run build")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.CLIENT_ID "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.CLIENT_SECRET "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"_5-第一次使用留言會跳出認證"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-第一次使用留言會跳出認證"}},[s._v("#")]),s._v(" 5. 第一次使用留言會跳出認證")]),s._v(" "),e("p",[e("img",{attrs:{src:a(503),alt:"Image",width:"500"}})]),s._v(" "),e("h3",{attrs:{id:"_6-認證完就可以留言囉"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-認證完就可以留言囉"}},[s._v("#")]),s._v(" 6. 認證完就可以留言囉～")]),s._v(" "),e("p",[e("img",{attrs:{src:a(504),alt:"Image",width:"500"}})]),s._v(" "),e("h2",{attrs:{id:"參考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[s._v("#")]),s._v(" 參考")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://vssue.js.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vssue"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/valine.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-theme-reco"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://vssue.js.org/zh/guide/github.html#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84-oauth-app",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub OAuth App"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);