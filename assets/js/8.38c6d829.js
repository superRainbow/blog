(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{502:function(t,s,a){t.exports=a.p+"assets/img/github_oa_client_id_secret.afbf7117.png"},503:function(t,s,a){t.exports=a.p+"assets/img/github_settings_secrets.e66bf2a1.png"},504:function(t,s,a){t.exports=a.p+"assets/img/github_oa_1.7ebe1535.png"},505:function(t,s,a){t.exports=a.p+"assets/img/github_oa_2.34edfa9f.png"},523:function(t,s,a){"use strict";a.r(s);var e=a(6),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("之前有想過要整合留言功能，\n那時看了方式有串第三方平台與使用 github issue，\n不過想說不知道文章會寫到何時～先擱著(看雖自己)，\n但現在覺得好像可以加進來看看惹！感覺今年的我好像是真的想認真寫文章 XD\n接下來就來看我的步驟吧～")])]),e("h2",{attrs:{id:"選擇"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#選擇"}},[t._v("#")]),t._v(" 選擇")]),t._v(" "),e("p",[t._v("基於我的部落格是將文章都放在 github 上，\n最好的方式就是都統一放在 github 中，\n因此我就不考慮 Disqus 或是 LeanCloud 惹，\n選擇 Vssue 來實現留言")]),t._v(" "),e("h2",{attrs:{id:"vssue-介紹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vssue-介紹"}},[t._v("#")]),t._v(" Vssue 介紹")]),t._v(" "),e("p",[t._v("Vssue 是利用平台提供的 OAuth API 使得用戶可以登錄並發表評論，\n以下是大致的流程：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://vssue.js.org/assets/img/how-vssue-works-zh.png",alt:"Image"}})]),t._v(" "),e("p",[e("em",[t._v("來源："),e("a",{attrs:{href:"https://vssue.js.org/zh/guide/#vssue-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vssue 官網"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"導入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#導入"}},[t._v("#")]),t._v(" 導入")]),t._v(" "),e("p",[t._v("預設 vuepress-theme-reco 就有留言功能，我們只需要去 config.js 中加入設定即可")]),t._v(" "),e("h3",{attrs:{id:"_1-申請-github-oauth-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-申請-github-oauth-2"}},[t._v("#")]),t._v(" 1. 申請 github OAuth 2")]),t._v(" "),e("p",[t._v("申請 "),e("a",{attrs:{href:"https://github.com/settings/developers",target:"_blank",rel:"noopener noreferrer"}},[t._v("github OAuth"),e("OutboundLink")],1),t._v(" 來取得 clientId 與 clientSecret")]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("Register a new OAuth application"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("將 Homepage URL 和 Authorization callback URL 設置為你的網站 URL")]),t._v(" "),e("li",[t._v("完成後，即可獲取 Client ID 和 Secret")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(502),alt:"Image",width:"500"}})]),t._v(" "),e("h3",{attrs:{id:"_2-config-js-設定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-config-js-設定"}},[t._v("#")]),t._v(" 2. config.js 設定")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("vssueConfig"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    platform"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    owner"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'superRainbow'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    repo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    clientId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用環境變數去管理")]),t._v("\n    clientSecret"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用環境變數去管理")]),t._v("\n    locale"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'en'")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由於 vssue 的語系中文只有簡體，所以我設定為英文顯示")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"_3-將重要資訊存入本地-env-與-github-settings-secrets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-將重要資訊存入本地-env-與-github-settings-secrets"}},[t._v("#")]),t._v(" 3. 將重要資訊存入本地 env 與 github settings secrets")]),t._v(" "),e("p",[t._v("env")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxxx\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxxx\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("github settings secrets\n"),e("img",{attrs:{src:a(503),alt:"",width:"500"}})]),t._v(" "),e("h3",{attrs:{id:"_4-調整-yaml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-調整-yaml"}},[t._v("#")]),t._v(" 4. 調整 yaml")]),t._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Install and Build 🔧\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        npm install\n        npm run build")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("CLIENT_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.CLIENT_ID "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("CLIENT_SECRET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.CLIENT_SECRET "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"_5-第一次使用留言會跳出認證"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-第一次使用留言會跳出認證"}},[t._v("#")]),t._v(" 5. 第一次使用留言會跳出認證")]),t._v(" "),e("p",[e("img",{attrs:{src:a(504),alt:"Image",width:"500"}})]),t._v(" "),e("h3",{attrs:{id:"_6-認證完就可以留言囉"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-認證完就可以留言囉"}},[t._v("#")]),t._v(" 6. 認證完就可以留言囉～")]),t._v(" "),e("p",[e("img",{attrs:{src:a(505),alt:"Image",width:"500"}})]),t._v(" "),e("h2",{attrs:{id:"參考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[t._v("#")]),t._v(" 參考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://vssue.js.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vssue"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/valine.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://vssue.js.org/zh/guide/github.html#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84-oauth-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub OAuth App"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);